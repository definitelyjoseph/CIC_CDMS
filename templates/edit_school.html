{% extends "base.html" %}

{% block title %}Edit School â€“ Captain I Can!{% endblock %}
{% block page_title %}Edit School Information{% endblock %}

{% block content %}

<h2>Edit School: {{ school['name'] }}</h2>

<!-- Flash messages (success or error) -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      <p><strong>{{ category|capitalize }}:</strong> {{ message }}</p>
    {% endfor %}
  {% endif %}
{% endwith %}

<form method="post">

    <br>

    <label>School Name (Required)</label><br>
    <input type="text" name="name" value="{{ form_data.name }}" style="width:300px;">
    {% if errors.name %}
        <small style="color:red;">{{ errors.name }}</small>
    {% endif %}
    <br><br>

    <label>Address (Required)</label><br>
    <input type="text" name="address" value="{{ form_data.address }}" style="width:300px;">
    {% if errors.address %}
        <small style="color:red;">{{ errors.address }}</small>
    {% endif %}
    <br><br>

    <label>Contact Person (Required)</label><br>
    <input type="text" name="contact_person" value="{{ form_data.contact_person }}" style="width:300px;">
    {% if errors.contact_person %}
        <small style="color:red;">{{ errors.contact_person }}</small>
    {% endif %}
    <br><br>

    <label>Contact Phone</label><br>
    <input type="text" name="contact_phone" value="{{ form_data.contact_phone }}" style="width:300px;">
    {% if errors.contact_phone %}
        <small style="color:red;">{{ errors.contact_phone }}</small>
    {% endif %}
    <br><br>

    <label>Contact Email</label><br>
    <input type="email" name="contact_email" value="{{ form_data.contact_email }}" style="width:300px;">
    {% if errors.contact_email %}
        <small style="color:red;">{{ errors.contact_email }}</small>
    {% endif %}
    <br><br>

    <label>Capacity</label><br>
    <input type="number" name="capacity" value="{{ form_data.capacity }}" style="width:300px;">
    {% if errors.capacity %}
        <small style="color:red;">{{ errors.capacity }}</small>
    {% endif %}
    <br><br>

    <label>School Start Time</label><br>
    <input type="text" name="start_time" placeholder="e.g. 8:00 AM"
           value="{{ form_data.start_time }}" style="width:300px;">
    <br><br>

    <label>School End Time</label><br>
    <input type="text" name="end_time" placeholder="e.g. 2:30 PM"
           value="{{ form_data.end_time }}" style="width:300px;">
    <br><br>

    <label>Exam Dates</label><br>
    <textarea name="exam_dates" rows="2" style="width:300px;">{{ form_data.exam_dates }}</textarea>
    <br><br>

    <label>Holidays / Special Notes</label><br>
    <textarea name="holidays" rows="2" style="width:300px;">{{ form_data.holidays }}</textarea>
    <br><br>

    <label>Number of Teachers</label><br>
    <input type="number" name="num_teachers" value="{{ form_data.num_teachers }}" style="width:300px;">
    {% if errors.num_teachers %}
        <small style="color:red;">{{ errors.num_teachers }}</small>
    {% endif %}
    <br><br>

    <button type="submit">Save Changes</button>
    <br><br>

    <a href="{{ url_for('list_schools') }}">Back to list</a>

</form>

{% endblock %}
